<div class="container">
  <h1>Hacker News Reader</h1>
  
  <!-- Search Form -->
  <div class="search-container">
    <form (ngSubmit)="onSearch()" class="search-form">
      <input 
        type="text" 
        [(ngModel)]="searchQuery" 
        name="searchQuery"
        placeholder="Search stories..." 
        class="search-input"
      >
      <button type="submit" class="search-button">Search</button>
      <button 
        type="button" 
        (click)="searchQuery=''; onSearch()" 
        class="clear-button"
        *ngIf="searchQuery"
      >
        Clear
      </button>
    </form>
  </div>

  <!-- Loading Indicator -->
  <div *ngIf="isLoading" class="loading">
    Loading stories...
  </div>

  <!-- Stories List -->
  <div *ngIf="!isLoading && stories.length > 0" class="stories-container">
    <div *ngFor="let story of stories; let i = index" class="story-item">
      <div class="story-rank">{{ (currentPage - 1) * pageSize + i + 1 }}.</div>
      <div class="story-content">
        <h3 class="story-title">
          <a 
            *ngIf="story.url" 
            [href]="story.url" 
            target="_blank" 
            rel="noopener noreferrer"
            class="story-link"
          >
            {{ story.title }}
          </a>
          <span *ngIf="!story.url" class="story-title-no-link">
            {{ story.title }}
          </span>
        </h3>
        <div class="story-details">
          <span class="story-score">{{ story.score }} points</span>
          <span class="story-by">by {{ story.by }}</span>
          <span class="story-comments">
            <a 
              *ngIf="story.descendants !== undefined" 
              [href]="'https://news.ycombinator.com/item?id=' + story.id" 
              target="_blank"
              class="comments-link"
            >
              {{ story.descendants }} comments
            </a>
          </span>
        </div>
      </div>
    </div>
  </div>

  <!-- No Stories Found -->
  <div *ngIf="!isLoading && stories.length === 0" class="no-stories">
    No stories found.
  </div>

  <!-- Pagination -->
  <div *ngIf="!isLoading && stories.length > 0" class="pagination-container">
    <div class="pagination-controls">
      <button 
        (click)="onPageChange(currentPage - 1)" 
        [disabled]="currentPage <= 1"
        class="pagination-button"
      >
        Previous
      </button>
      
      <span class="pagination-info">
        Page {{ currentPage }}
      </span>
      
      <button 
        (click)="onPageChange(currentPage + 1)" 
        class="pagination-button"
      >
        Next
      </button>
    </div>
    
    <div class="page-size-selector">
      <label for="pageSize">Stories per page:</label>
      <select 
        id="pageSize" 
        [(ngModel)]="pageSize" 
        name="pageSize"
        (change)="onPageSizeChange()"
        class="page-size-select"
      >
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>
    </div>
  </div>
</div>